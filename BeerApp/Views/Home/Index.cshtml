<div class="row">
    <form>
        <div class="form-group">
            <label for="idNum">Id</label>
            <input type="text" class="form-control" id="idNum" placeholder="id">
        </div>

        <div class="form-group">
            <label for="exampleInputEmail1">Email address</label>
            <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group">
            <label for="comment">comment</label>
            <input type="text" class="form-control" id="comment" placeholder="comment">
        </div>
        <div class="form-group">
            <label for="Rating">Rating</label>
            <input type="number" class="form-control" id="Rating" placeholder="Rating">
        </div>

        <button id="123" type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>

@section scripts{
    <script>


        $(document).ready(function () {
            console.log("ready!");



            $("#123").click(function (e) {
                e.preventDefault();
                var model = new Object();

                model.Username = $("#exampleInputEmail1").val();;
                model.Rating = $("#Rating").val();
                model.Comments = $("#comment").val();

                var puckiD = $("#idNum").val();

                alert(model.Rating);
                alert(model.Username);
                alert(model.Comments);

                var Url = ("api/beerrating/" + puckiD);
                
                $(function () {
                    $.ajax({
                        type: "POST",
                        data: JSON.stringify(model),
                        url: Url,
                        contentType: "application/json",
                        complete: function myfunction() {
                            alert("Completed");
                        },
                        success: function (result) {
                            alert(result.statusText);
                        },
                        error: function (result) {
                            alert(result.statusText);
                        },
                        failure: function (result) {
                            alert(result.statusText);
                        }
                    });
                });
            });

            //$("#123").click(function () {

            //    var beer = { Username: "brendan@live.ca", Rating: "4", Comments: "example of a comment" };

            //    var beer1 = { Username: "brendan", Rating: "50", Comments: "example of a comment" };

            //    var beer2 = { Username: "brendanbotond@hotmail.com", Rating: "5", Comments: "example of a comment" };

            //    var beer3 = { Username: "brendanbotond@hotmail.com", Rating: "4", Comments: "example of a comment" };

            //    //$(function () {
            //    //    $.ajax({
            //    //        type: "POST",
            //    //        data: JSON.stringify(beer),
            //    //        url: "api/beerrating/1",
            //    //        contentType: "application/json"
            //    //    });
            //    //});

            //    //$(function () {
            //    //    $.ajax({
            //    //        type: "POST",
            //    //        data: JSON.stringify(beer1),
            //    //        url: "api/beerrating/1",
            //    //        contentType: "application/json"
            //    //    });
            //    //});


            //    //$(function () {
            //    //    $.ajax({
            //    //        type: "POST",
            //    //        data: JSON.stringify(beer2),
            //    //        url: "api/beerrating/1",
            //    //        contentType: "application/json"
            //    //    });
            //    //});

            //    $(function () {
            //        $.ajax({
            //            type: "POST",
            //            data: JSON.stringify(beer3),
            //            url: "api/beerrating/2",
            //            contentType: "application/json"
            //        });
            //    });


            //    //$(function () {
            //    //    $.ajax({
            //    //        type: "POST",
            //    //        url: "api/beerrating",
            //    //        data: { id: "1", rating: beer },
            //    //        dataType: 'json',
            //    //        beforeSend: function myfunction() {
            //    //            alert("about to send");
            //    //        },
            //    //        complete: function myfunction() {
            //    //            alert("complete");

            //    //        },
            //    //        success: function (result) {
            //    //            alert("success");
            //    //        },
            //    //        failure: function (result) {
            //    //            alert("Error fetching stations");
            //    //        }
            //    //    });
            //    //});


            //});


        });


    </script>
}